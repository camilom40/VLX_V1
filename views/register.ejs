<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/_head.ejs'); %>
  <title>Request Account Access - VLX System</title>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
  <%- include('./partials/_header.ejs'); %>
  
  <main class="py-8 flex-grow">
    <div class="max-w-4xl mx-auto px-4">
      <div class="bg-white rounded-xl shadow-sm overflow-hidden">
        <div class="bg-gradient-to-r from-brand-blue to-blue-400 p-6">
          <div class="flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
            </svg>
            <h1 class="text-2xl md:text-3xl font-bold text-white">Request Account Access</h1>
          </div>
          <p class="text-blue-100 text-center mt-2 max-w-2xl mx-auto">
            Fill out the form below to request an account for the VLX System. Our team will review your submission and contact you shortly.
          </p>
        </div>
        
        <div class="p-6 md:p-8">
          <form action="/request-user" method="POST" class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Left Column -->
            <div class="space-y-7">
              <h2 class="text-xl font-semibold text-brand-blue border-b border-gray-200 pb-2">Personal Information</h2>
              
              <!-- First Name -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                <input 
                  type="text" 
                  id="firstName" 
                  name="firstName" 
                  class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                  placeholder="Enter your first name" 
                  required>
              </div>
              
              <!-- Last Name -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                <input 
                  type="text" 
                  id="lastName" 
                  name="lastName" 
                  class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                  placeholder="Enter your last name" 
                  required>
              </div>
              
              <!-- Email -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                  placeholder="Enter your email" 
                  required>
                <p class="mt-1 text-xs text-gray-500">We'll use this email to contact you and for login purposes</p>
              </div>
              
              <!-- Phone -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                <div class="flex flex-col space-y-2">
                  <!-- Dropdown for area code -->
                  <div class="w-full">
                    <select 
                      id="areaCode" 
                      name="areaCode" 
                      class="appearance-none block w-full px-3 py-3 border border-gray-200 rounded-lg shadow-sm focus:outline-none focus:ring-brand-blue focus:border-brand-blue">
                      <option value="+1">United States (+1)</option>
                      <option value="+57">Colombia (+57)</option>
                      <option value="+52">Mexico (+52)</option>
                      <option value="+34">Spain (+34)</option>
                      <option value="+44">United Kingdom (+44)</option>
                      <!-- Add more common options -->
                    </select>
                  </div>
                  <!-- Input for phone number -->
                  <div class="w-full">
                    <input 
                      type="tel" 
                      id="phone" 
                      name="phone" 
                      class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                      placeholder="Enter phone number" 
                      required>
                  </div>
                </div>
                <button type="button" class="text-xs text-brand-blue hover:text-brand-blue-light mt-2" id="showMoreCountries">
                  Show more country codes
                </button>
              </div>
            </div>
            
            <!-- Right Column -->
            <div class="space-y-7">
              <h2 class="text-xl font-semibold text-brand-blue border-b border-gray-200 pb-2">Company Information</h2>
              
              <!-- Company -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="company" class="block text-sm font-medium text-gray-700 mb-1">Company Name</label>
                <input 
                  type="text" 
                  id="company" 
                  name="company" 
                  class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                  placeholder="Enter your company name" 
                  required>
              </div>
              
              <!-- Role in the Company -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="role" class="block text-sm font-medium text-gray-700 mb-1">Role in the Company</label>
                <input 
                  type="text" 
                  id="role" 
                  name="role" 
                  class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                  placeholder="Enter your role in the company" 
                  required>
              </div>
              
              <!-- City -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="city" class="block text-sm font-medium text-gray-700 mb-1">City</label>
                <input 
                  type="text" 
                  id="city" 
                  name="city" 
                  class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                  placeholder="Enter your city" 
                  required>
                <p class="mt-1 text-xs text-gray-500">Enter the city where your company is located</p>
              </div>
              
              <!-- Country -->
              <div class="bg-blue-50 bg-opacity-50 p-4 rounded-lg border border-blue-100 shadow-sm">
                <label for="country" class="block text-sm font-medium text-gray-700 mb-1">Country</label>
                <select 
                  id="country" 
                  name="country" 
                  class="appearance-none block w-full px-4 py-3 border border-gray-200 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-brand-blue focus:border-brand-blue" 
                  required>
                  <option value="" disabled selected>Select your country</option>
                  <option value="United States">United States</option>
                  <option value="Canada">Canada</option>
                  <option value="Mexico">Mexico</option>
                  <option value="Colombia">Colombia</option>
                  <option value="Spain">Spain</option>
                  <option value="United Kingdom">United Kingdom</option>
                  <!-- Add more countries -->
                </select>
              </div>
            </div>
            
            <!-- Full Width Section -->
            <div class="md:col-span-2 mt-4">
              <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                <div class="flex items-start">
                  <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-brand-blue" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9z" clip-rule="evenodd" />
                    </svg>
                  </div>
                  <div class="ml-3">
                    <h3 class="text-sm font-medium text-gray-800">What happens next?</h3>
                    <p class="text-sm text-gray-600 mt-1">
                      After submitting this form, our team will review your information and create an account for you. 
                      You will receive an email with your login credentials and instructions to access the VLX System.
                    </p>
                  </div>
                </div>
              </div>
              
              <!-- Submit Button -->
              <div class="mt-6">
                <button 
                  type="submit" 
                  class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">
                  Submit Request
                </button>
              </div>
              
              <p class="text-center text-sm text-gray-600 mt-4">
                Already have an account? <a href="/auth/login" class="font-medium text-brand-blue hover:text-brand-blue-light">Sign in here</a>
              </p>
            </div>
          </form>
          
          <!-- Country Code Modal -->
          <div id="countryCodeModal" class="hidden fixed inset-0 z-50 overflow-auto flex bg-black bg-opacity-50">
            <div class="relative p-6 bg-white w-full max-w-lg m-auto rounded-xl shadow-xl">
              <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-lg font-semibold text-gray-900">Select Country Code</h3>
                <button id="closeModal" class="text-gray-500 hover:text-gray-700">
                  <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
                </button>
              </div>
              <div class="mt-4 h-64 overflow-y-auto">
                <ul class="grid grid-cols-1 gap-2">
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+1">
                      <span class="w-16 inline-block font-medium">+1</span>
                      <span>United States/Canada</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+44">
                      <span class="w-16 inline-block font-medium">+44</span>
                      <span>United Kingdom</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+52">
                      <span class="w-16 inline-block font-medium">+52</span>
                      <span>Mexico</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+57">
                      <span class="w-16 inline-block font-medium">+57</span>
                      <span>Colombia</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+34">
                      <span class="w-16 inline-block font-medium">+34</span>
                      <span>Spain</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+33">
                      <span class="w-16 inline-block font-medium">+33</span>
                      <span>France</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+49">
                      <span class="w-16 inline-block font-medium">+49</span>
                      <span>Germany</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+39">
                      <span class="w-16 inline-block font-medium">+39</span>
                      <span>Italy</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+81">
                      <span class="w-16 inline-block font-medium">+81</span>
                      <span>Japan</span>
                    </button>
                  </li>
                  <li>
                    <button type="button" class="w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center" data-code="+86">
                      <span class="w-16 inline-block font-medium">+86</span>
                      <span>China</span>
                    </button>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <%- include('./partials/_footer.ejs'); %>
  
  <script>
    // Show/hide country code modal
    document.addEventListener('DOMContentLoaded', function() {
      const showMoreBtn = document.getElementById('showMoreCountries');
      const modal = document.getElementById('countryCodeModal');
      const closeModal = document.getElementById('closeModal');
      
      if (showMoreBtn && modal && closeModal) {
        showMoreBtn.addEventListener('click', function() {
          modal.classList.remove('hidden');
        });
        
        closeModal.addEventListener('click', function() {
          modal.classList.add('hidden');
        });
        
        // Close modal when clicking outside
        modal.addEventListener('click', function(e) {
          if (e.target === modal) {
            modal.classList.add('hidden');
          }
        });
        
        // Handle country code selection
        const countryCodeBtns = document.querySelectorAll('[data-code]');
        const areaCodeSelect = document.getElementById('areaCode');
        
        countryCodeBtns.forEach(btn => {
          btn.addEventListener('click', function() {
            const code = this.getAttribute('data-code');
            if (areaCodeSelect) {
              // Create option if doesn't exist
              if (!Array.from(areaCodeSelect.options).some(opt => opt.value === code)) {
                const option = new Option(code, code);
                areaCodeSelect.add(option);
              }
              areaCodeSelect.value = code;
            }
            modal.classList.add('hidden');
          });
        });
      }
    });
  </script>
</body>
</html>
